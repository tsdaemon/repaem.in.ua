@model aspdev.repaem.ViewModel.GoogleMap
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=@Model.ApiKey&sensor=true&language=ru">
</script>

<div id="map_canvas" class="googlemap"></div>

<script type="text/javascript">
    var mapOptions = {
        center: new google.maps.LatLng(@Model.Center),
        zoom: 8,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        mapOptions);
    @if(Model.Coordinates!=null)
    {
        foreach(var c in Model.Coordinates)
        {  
        <text>
            var myLatLng = new google.maps.LatLng(@c.Coordinates);
            var beachMarker = new google.maps.Marker({
                position: myLatLng,
                map: map,
                title: "@Html.Raw(c.Title)"
            });
        </text>
        }
    }
</script>